---
- name: test_Build_RHEL8_VM_from_ISO
  hosts: localhost
  gather_facts: false
  vars_files:
    - ../vars/main.yml
    - ../vars/rhsm_secrets.yml
  tasks:
    - include_vars: ../defaults/Build_RHEL8_VM_from_ISO.yml
    - include_tasks: ../tasks/Build_RHEL8_VM_from_ISO.yml
      vars:
        vm_name: TEST_RHEL8VM6
        # vm_num_cpus: 2
        # vm_memory_mb: 3078
        # vm_disk_gb: 40
        vm_datastore: "Staging"
        vm_network: "VM Network"
        vm_password_new: P@ssw0rd
        vm_hostname: rhel8vm6
        vm_address: 192.168.123.196
        vm_netmask_cidr: 24
        vm_gateway: 192.168.123.1
        vm_dns_server: 192.168.123.1
        vm_domain: lab.local
        install_xrdp: true
        install_ansible: true
        extra_commands:
          - "touch /tmp/test.txt"
          - "echo 123 >> /tmp/test.txt"
        disks:
          - size_gb: 140
            type: thin
          - size_gb: 160
            type: thin
          - size_gb: 200
            type: thin
          - size_gb: 200
            type: thin
          - size_gb: 200
            type: thin
